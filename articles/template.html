<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Loading...</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="/assets/main.css">
</head>
<body>

<header>
  <h1>OJapp Guide</h1>
</header>

<main id="article"></main>

<script>
(async () => {
  const slug = location.pathname.split('/').pop().replace('.html', '');
  const list = await fetch('/articles/list.json').then(r => r.json());
  const meta = list.find(a => a.slug === slug);

  // SEO 反映
  document.title = meta.title + " | OJapp Guide";
  document.querySelector("meta[name='description']").content = meta.seo;

  // 本文読み込み
  const html = await fetch(`/articles/content/${slug}.html`).then(r => r.text());

  document.getElementById("article").innerHTML = `
    <h1>${meta.title}</h1>
    <p class="subtitle">${meta.subtitle}</p>
    <article>${html}</article>
  `;
})();
</script>

</body>
</html>
